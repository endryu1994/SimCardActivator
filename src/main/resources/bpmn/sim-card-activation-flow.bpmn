<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
                  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                  id="Definitions_1pzpk3d" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler"
                  exporterVersion="4.6.0">
    <bpmn:process id="SimCardActivationProcess" isExecutable="true">
        <bpmn:startEvent id="StartEvent_GetOrder" name="Get order">
            <bpmn:outgoing>Flow_1mikpvd</bpmn:outgoing>
        </bpmn:startEvent>
        <bpmn:exclusiveGateway id="Gateway_CheckStep" name="CheckStep">
            <bpmn:incoming>Flow_1mikpvd</bpmn:incoming>
            <bpmn:outgoing>Flow_1m2aze3</bpmn:outgoing>
            <bpmn:outgoing>Flow_0dkccrx</bpmn:outgoing>
        </bpmn:exclusiveGateway>
        <bpmn:sequenceFlow id="Flow_1mikpvd" sourceRef="StartEvent_GetOrder" targetRef="Gateway_CheckStep"/>
        <bpmn:sequenceFlow id="Flow_1m2aze3" sourceRef="Gateway_CheckStep" targetRef="ServiceTask_SimPreActivate">
            <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{step == 'simPreActivate'}
            </bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:serviceTask id="ServiceTask_SimPreActivate" name="SimPreActivate" camunda:asyncBefore="true"
                          camunda:delegateExpression="#{simPreActivateTask}">
            <bpmn:incoming>Flow_1m2aze3</bpmn:incoming>
            <bpmn:outgoing>Flow_0jf0h72</bpmn:outgoing>
        </bpmn:serviceTask>
        <bpmn:serviceTask id="ServiceTask_SpsCreateSim" name="SpsCreateSim" camunda:asyncBefore="true"
                          camunda:delegateExpression="#{spsCreateSimTask}">
            <bpmn:incoming>Flow_0dkccrx</bpmn:incoming>
            <bpmn:incoming>Flow_0jf0h72</bpmn:incoming>
            <bpmn:outgoing>Flow_03ibu2s</bpmn:outgoing>
        </bpmn:serviceTask>
        <bpmn:sequenceFlow id="Flow_0dkccrx" sourceRef="Gateway_CheckStep" targetRef="ServiceTask_SpsCreateSim">
            <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{step == 'spsCreateSim'}
            </bpmn:conditionExpression>
        </bpmn:sequenceFlow>
        <bpmn:sequenceFlow id="Flow_0jf0h72" sourceRef="ServiceTask_SimPreActivate"
                           targetRef="ServiceTask_SpsCreateSim"/>
        <bpmn:endEvent id="EndEvent_SimCardActivated" name="SimCardActivated">
            <bpmn:incoming>Flow_03ibu2s</bpmn:incoming>
        </bpmn:endEvent>
        <bpmn:sequenceFlow id="Flow_03ibu2s" sourceRef="ServiceTask_SpsCreateSim"
                           targetRef="EndEvent_SimCardActivated"/>
    </bpmn:process>
    <bpmndi:BPMNDiagram id="BPMNDiagram_1">
        <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="SimCardActivationProcess">
            <bpmndi:BPMNEdge id="Flow_03ibu2s_di" bpmnElement="Flow_03ibu2s">
                <di:waypoint x="470" y="280"/>
                <di:waypoint x="542" y="280"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_0jf0h72_di" bpmnElement="Flow_0jf0h72">
                <di:waypoint x="420" y="157"/>
                <di:waypoint x="420" y="240"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_0dkccrx_di" bpmnElement="Flow_0dkccrx">
                <di:waypoint x="290" y="142"/>
                <di:waypoint x="290" y="280"/>
                <di:waypoint x="370" y="280"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_1m2aze3_di" bpmnElement="Flow_1m2aze3">
                <di:waypoint x="315" y="117"/>
                <di:waypoint x="370" y="117"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="Flow_1mikpvd_di" bpmnElement="Flow_1mikpvd">
                <di:waypoint x="215" y="117"/>
                <di:waypoint x="265" y="117"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_GetOrder">
                <dc:Bounds x="179" y="99" width="36" height="36"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="174" y="142" width="48" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Gateway_0gc7ru2_di" bpmnElement="Gateway_CheckStep" isMarkerVisible="true">
                <dc:Bounds x="265" y="92" width="50" height="50"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="263" y="62" width="55" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Activity_1wlpgx0_di" bpmnElement="ServiceTask_SimPreActivate">
                <dc:Bounds x="370" y="77" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Activity_1w90sdd_di" bpmnElement="ServiceTask_SpsCreateSim">
                <dc:Bounds x="370" y="240" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="Event_14417dy_di" bpmnElement="EndEvent_SimCardActivated">
                <dc:Bounds x="542" y="262" width="36" height="36"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="516" y="305" width="89" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNShape>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</bpmn:definitions>
